---
import BeforeAfterTransition from "./BeforeAfterTransition";
import FadeIn from "./FadeIn";
import tiredMan from "../assets/img/manWithoutGlasses.webp";
import comfortableMan from "../assets/img/manUssingGlassesV3.webp";
---
<section id="beforeAndAfter" class="container pt-7 lg:pt-16 pb-4 px-4 md:px-6 xl:mx-auto">
  <!-- Header Section - More Compelling -->
  <div class="w-full flex flex-col items-center text-center gap-4 mb-8 lg:mb-14">
    <FadeIn delay={100} client:load>    
      <h2 class="text-4xl md:text-5xl xl:text-6xl font-bold tracking-tight text-brand-headline">
        La Diferencia es <span class="text-transparent bg-clip-text bg-gradient-to-r from-amber-300 to-orange-400">Inmediata</span>
      </h2>
    </FadeIn>
    
    <p class="text-lg max-w-md lg:text-xl text-brand-body lg:mt-4 lg:max-w-2xl">
      Descubre c√≥mo nuestras gafas de bloqueo de luz azul pueden transformar tu d√≠a y mejorar tu descanso. <br> <strong class="text-brand-headline">¬øListo para el cambio?</strong>
    </p>
  </div>

  <!-- Comparison Cards - Enhanced Visual Hierarchy -->
  <div class="grid gap-6 md:grid-cols-2 mb-10 lg:px-4 xl:gap-10 xl:px-6 max-w-full">
    
    <!-- WITHOUT Protection Card - Emphasized Pain Points -->
    <div class="rounded-2xl p-3 shadow-xl bg-bg-card-glass border-white/20  xl:flex xl:flex-col xl:place-items-center hover:border-red-500/50 transition-all duration-300 ">
      <!-- Badge for emphasis -->
      <div class="flex justify-center mb-3">
        <span class="inline-block bg-red-500/30 border border-red-400/50 rounded-full px-4 py-1 text-sm font-bold text-red-500">
          ‚ùå SIN PROTECCI√ìN
        </span>
      </div>
      <h3 class="text-brand-headline text-center mb-6 text-xl font-semibold">
        Estr√©s Visual que Afecta Tu Vida
      </h3>
      
      <div class="relative h-[320px] lg:h-[400px] w-full xl:w-[500px] rounded-xl overflow-hidden mb-6">
        <img 
          src={tiredMan.src} 
          alt="Persona con fatiga ocular y agotamiento por luz azul" 
          class="w-full h-full object-fill contrast-100" 
          loading="lazy" 
        />
        <!-- Dark overlay for emphasis -->
        <!-- <div class="absolute inset-0 bg-gradient-to-t from-red-900/20 to-transparent"></div> -->
      </div>
      
      <ul class="w-full grid xl:grid-cols-2 gap-5 xl:gap-4 xl:p-4">
        {[
          { text: 'Ojos cansados e irritados', icon: 'üòì' },
          { text: 'Insomnio y sue√±o irregular', icon: 'üò¥' },
          { text: 'Dolores de cabeza constantes', icon: 'ü§ï' },
          { text: 'Productividad reducida', icon: 'üìâ' }
        ].map((item) => (
          <li class="flex items-start gap-3 text-white text-base md:text-lg bg-red-500/20 p-3 rounded-lg border border-red-500/20">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0 mt-0.5">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <path d="M18 6l-12 12" />
              <path d="M6 6l12 12" />
            </svg>
            <span class="text-brand-headline"><strong>{item.text}</strong> {item.icon}</span>
          </li>
        ))}
      </ul>
      
      <!-- Added pain amplifier -->
      <div class="mt-6 lg:mt-32 xl:mt-16 p-4 bg-red-500/30 border border-red-400/30 rounded-lg self-end">
        <p class="text-sm md:text-base text-center italic text-brand-body">
          <strong>¬øTe suena familiar?</strong> Esto es lo que la luz azul artificial le hace a tu cuerpo cada d√≠a.
        </p>
      </div>
    </div>

    <!-- WITH Protection Card - Emphasized Benefits -->
    <div class="rounded-2xl p-3 shadow-2xl bg-bg-card-glass border-white/20 xl:flex xl:flex-col xl:place-items-center hover:border-green-400/60 transition-all duration-300 hover:scale-[1.02]">
      
      <!-- Success badge -->
      <div class="flex justify-center mb-3">
        <span class="bg-green-500/20 border border-green-400/50 rounded-full px-4 py-1 text-sm font-bold flex gap-1 items-center text-green-500">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="#05df72" class="icon icon-tabler icons-tabler-filled icon-tabler-shield-check"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M11.998 2l.118 .007l.059 .008l.061 .013l.111 .034a.993 .993 0 0 1 .217 .112l.104 .082l.255 .218a11 11 0 0 0 7.189 2.537l.342 -.01a1 1 0 0 1 1.005 .717a13 13 0 0 1 -9.208 16.25a1 1 0 0 1 -.502 0a13 13 0 0 1 -9.209 -16.25a1 1 0 0 1 1.005 -.717a11 11 0 0 0 7.531 -2.527l.263 -.225l.096 -.075a.993 .993 0 0 1 .217 -.112l.112 -.034a.97 .97 0 0 1 .119 -.021l.115 -.007zm3.71 7.293a1 1 0 0 0 -1.415 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"></path></svg> CON AMBER VISION
        </span>
      </div>
      <p class="text-green-500 text-center mb-6 text-xl font-semibold">
        Bienestar Visual Garantizado
      </p>
      
      <div class="relative h-[320px] lg:h-[400px] w-full xl:w-[500px] rounded-xl overflow-hidden mb-6 ">
        <img 
          src={comfortableMan.src} 
          alt="Persona relajada con visi√≥n protegida usando Amber Vision" 
          class="object-fill h-full w-full brightness-110" 
          loading="lazy" 
        />
        <!-- Success glow effect -->
        <div class="absolute inset-0 bg-gradient-to-t from-green-900/30 to-transparent"></div>
      </div>
      
      <ul class="w-full grid xl:grid-cols-2 lg:gap-5 gap-4 xl:gap-4 xl:p-4">
        {[
          { text: "Ojos descansados todo el d√≠a", benefit: "+70% confort" },
          { text: "Duermes profundo y sin interrupciones", benefit: "Desde el primer d√≠a" },
          { text: "Adi√≥s a los dolores de cabeza", benefit: "91% reducci√≥n" },
          { text: "Mayor enfoque en tus tareas", benefit: "+40% productivo" }
        ].map((item) => (
          <li class="flex items-start gap-3 bg-green-100 text-base md:text-lg  p-3 rounded-lg border border-green-400/30 hover:bg-green-500/20 transition-colors">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="#10b981" class="flex-shrink-0 mt-0.5">
              <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
              <path d="M11.998 2l.118 .007l.059 .008l.061 .013l.111 .034a.993 .993 0 0 1 .217 .112l.104 .082l.255 .218a11 11 0 0 0 7.189 2.537l.342 -.01a1 1 0 0 1 1.005 .717a13 13 0 0 1 -9.208 16.25a1 1 0 0 1 -.502 0a13 13 0 0 1 -9.209 -16.25a1 1 0 0 1 1.005 -.717a11 11 0 0 0 7.531 -2.527l.263 -.225l.096 -.075a.993 .993 0 0 1 .217 -.112l.112 -.034a.97 .97 0 0 1 .119 -.021l.115 -.007zm3.71 7.293a1 1 0 0 0 -1.415 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z" />
            </svg>
            <div>
              <strong class="block text-brand-headline">{item.text}</strong>
              <span class="text-xs text-brand-body font-semibold">{item.benefit}</span>
            </div>
          </li>
        ))}
      </ul>
      
      <!-- Added success amplifier with urgency -->
      <div class="mt-6 xl:mt-2 p-4 bg-green-500/20 border-2 border-green-400/40 rounded-lg">
        <p class="text-sm md:text-base text-center tracking-wide text-brand-body">
          ‚ö° <strong>Resultados desde el primer d√≠a.</strong> Sin complicaciones, sin esperas.
        </p>
      </div>
    </div>
  </div>

  <!-- Before/After Interactive + Science Section -->
  <div class="beforeAndAfter-container lg:flex lg:flex-row lg:mt-26 xl:mt-32 xl:gap-4 xl:px-5">
  <BeforeAfterTransition client:load />
  <div class="scienceBehind mt-4 lg:mt-0 px-2 md:px-6 lg:pl-4 lg:pr-0 max-w-4xl mx-auto text-left lg:flex-1">
    <img src="/assets/img/Wave-Icon.svg" alt="wave icon" class="self-start w-1/2 md:w-1/3" loading="lazy" />
    <FadeIn delay={100} client:load>
      <h3 class="text-2xl md:text-3xl lg:text-2xl font-bold mb-4 mt-3 lg:mt-0 text-brand-headline">
        La Ciencia Detr√°s de Amber Vision
      </h3>
    </FadeIn>
    <p class="text-base md:text-lg mb-3 text-brand-body">
      La luz azul y verde ‚Äîespecialmente entre los <span class="font-semibold text-brand-headline">400 y 520 nan√≥metros</span>‚Äî altera tu capacidad para relajarte y <span class="font-semibold text-brand-headline">afecta tu ritmo circadiano</span>, el reloj interno que regula tu descanso.
    </p>
    <p class="text-base md:text-lg mb-3 text-brand-body">
      En esta era digital, estamos expuestos a fuentes de <span class="font-semibold text-brand-headline">luz artificial como celulares, computadores o luces LED.</span> Aunque parezcan inofensivas, incluso niveles bajos de esta luz impiden la correcta producci√≥n de melatonina.
    </p>
    <p class="text-base md:text-lg mb-3 text-brand-body">
      Nuestras gafas <span class="font-semibold text-brand-headline">Amber Vision</span> filtran selectivamente esta luz nociva, creando un entorno visual m√°s c√°lido y natural. Al usarlas en las √∫ltimas horas del d√≠a, <span class="font-semibold text-brand-headline">tu cuerpo se relajar√°, dormir√°s mejor y le dir√°s adi√≥s a la fatiga ocular</span>.
    </p>
  </div>
</div> 
</section>